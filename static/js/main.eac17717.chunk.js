(this["webpackJsonpprototype-react-hooks-a-b-tests"]=this["webpackJsonpprototype-react-hooks-a-b-tests"]||[]).push([[0],[,function(t,n){t.exports=React},,,,,function(t,n){t.exports=ReactDOM},,,,,function(t,n,e){},function(t,n,e){"use strict";e.r(n);var s=e(1),a=e(6),c=e.n(a),i=e(5),o=e(4),r=e.n(o),d=e(0);const b=Object(s.createContext)();var l=b;b.Consumer;class h extends s.Component{constructor(t){super(t),this.state=r()({},t.value),this.activateTest=this.activateTest.bind(this),this.deactivateTest=this.deactivateTest.bind(this),this.getTests=this.getTests.bind(this),this.getActiveVariant=this.getActiveVariant.bind(this),this.getVariants=this.getVariants.bind(this),this.setActiveVariant=this.setActiveVariant.bind(this)}activateTest(t){this.state.activeTests.includes(t)||this.setState({activeTests:[...this.state.activeTests,t]})}deactivateTest(t){this.state.activeTests.includes(t)&&this.setState({activeTests:this.state.activeTests.filter((n=>n!==t))})}getTests(){return this.state.tests}getActiveVariant(t){return this.state.tests[t]&&this.state.tests[t].variant}getVariants(t){return this.state.tests[t]&&this.state.tests[t].variants}setActiveVariant(t,n){this.state.tests[t]&&this.state.tests[t].variants.includes(n)&&this.setState(r()({},this.state,{tests:{[t]:{variant:n}}}))}render(){const t=Object(i.a)(Object(i.a)({},this.state),{},{actions:{activateTest:this.activateTest,deactivateTest:this.deactivateTest,getTests:this.getTests,getActiveVariant:this.getActiveVariant,getVariants:this.getVariants,setActiveVariant:this.setActiveVariant}});return Object(d.jsx)(b.Provider,{value:t,children:this.props.children})}}h.defaultProps={value:{activeTests:[],tests:{}}};var u,j=e(2),g=e(3),p=e(7);const m="ab-test-toggle",v=Object(g.a)(u||(u=Object(j.a)(["\n  ."," {\n\n    &__label {\n      padding-right: 0.5em;\n    }\n\n    &__toggle {\n\n      &-input {\n        position: absolute;\n        top: 0;\n        left: 0;\n        opacity: 0;\n\n        &:checked + .","__toggle-label {\n          color: #eee;\n          background: #333;\n        }\n      }\n\n      &-label {\n        padding: 0 0.5em;\n        border: solid 1px #333;\n        border-radius: 0.25em;\n        margin: 0 0.25em;\n        cursor: pointer;\n      }\n    }\n  }\n"])),m,m);function x({activeVariant:t,testName:n,testVariants:e}){return Object(d.jsxs)("div",{className:"".concat(m," ").concat(v),children:[Object(d.jsx)("label",{className:"".concat(m,"__label"),children:n}),e.map((e=>Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("input",{id:"".concat(n,"_").concat(e),className:"".concat(m,"__toggle-input"),type:"radio",name:"".concat(n,"_rad"),value:e,defaultChecked:t===e,"data-test-name":n}),Object(d.jsx)("label",{htmlFor:"".concat(n,"_").concat(e),className:"".concat(m,"__toggle-label"),children:e})]},e)))]})}var O;const f="is--opened",T="ab-test-bar",V=Object(g.a)(O||(O=Object(j.a)(["\n  font-size: 1.5em;\n  padding: 1em;\n  border: solid 2px #333;\n  border-right: none;\n  border-bottom: none;\n  border-radius: 0.5em 0 0 0;\n  background: #ccc;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  transform: translateY(100%);\n  transition: transform 200ms;\n\n  &."," {\n    transform: translateY(0%);\n  }\n\n  ."," {\n\n    &__toggle-btn {\n      font-size: inherit;\n      padding: 0.25em 0.5em;\n      border: solid 2px #333;\n      border-bottom: none;\n      border-radius: 0.5em 0.5em 0em 0em;\n      outline: none;\n      background: #ccc;\n      position: absolute;\n      bottom: 100%;\n      right: 0;\n    }\n  }\n  \n  .",":not(:first-child) {\n    margin-top: 1em;\n  }\n"])),f,T,m);function _(){const t=Object(s.useContext)(l),n=t.activeTests,e=t.actions,a=e.getActiveVariant,c=e.getTests,i=e.getVariants,o=e.setActiveVariant,r=Object(s.useState)(!0),b=Object(p.a)(r,2),h=b[0],u=b[1];const j=n.filter((t=>!!c()[t])).map((t=>{const n=a(t);return Object(d.jsx)(x,{activeVariant:n,testName:t,testVariants:i(t)},t)})),g=h?f:"";return Object(d.jsxs)("nav",{className:"".concat(T," ").concat(V," ").concat(g),children:[Object(d.jsx)("div",{onChange:t=>{const n=t.target;o(n.dataset.testName,n.value)},children:j}),Object(d.jsx)("button",{className:"".concat(T,"__toggle-btn"),onClick:function(){u(!h)},children:"A/B Tests"})]})}var A;const k="body",y=Object(g.a)(A||(A=Object(j.a)(["\n  font-size: 2em;\n  padding: 1em;\n  background: #333;\n  \n  h3 {\n    color: #aaa;\n    margin: 0.25em 0;\n  }\n  \n  table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n  \n  td {\n    width: 50%;\n    padding: 0.25em 0.5em;\n    border: solid 1px #777;\n  }\n  \n  thead td {\n    color: #eee;\n    background: rgba(255, 255, 255, 0.1);\n  }\n  \n  tbody td {\n    color: #ff8f00;\n  }\n"])));function N({activeVariants:t}){return Object(d.jsxs)("div",{className:"".concat(k," ").concat(y),children:[Object(d.jsx)("h3",{children:"Active Tests"}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object.keys(t[0]).map((t=>Object(d.jsx)("td",{children:t},t)))})}),Object(d.jsx)("tbody",{children:t.map(((t,n)=>Object(d.jsx)("tr",{children:Object.values(t).map((t=>Object(d.jsx)("td",{children:t},t)))},n)))})]})]})}N.defaultProps={activeVariants:[]};const w="top-nav";function C(){return Object(d.jsx)("nav",{className:"".concat(w),children:Array(10).fill().map(((t,n)=>Object(d.jsxs)("button",{children:["Button ",n+1]},"btn_".concat(n))))})}var S;const z="test001",B="test002",D=Object(g.a)(S||(S=Object(j.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  \n  ."," {\n    height: 100%;\n  }\n  \n  ."," {\n    padding: 1em;\n    background: #ccc;\n    display: flex;\n  \n    button {\n      width: 100%;\n      font-size: 1.1em;\n      white-space: nowrap;\n      border: solid 1px;\n      border-top: none;\n      border-bottom: none;\n      background: transparent;\n    }\n    button:first-child {\n      border-left: none;\n    }\n    button:last-child {\n      border-right: none;\n    }\n  }\n  \n  &.","--A {\n    \n    ."," {\n      background: #666;\n      \n      button {\n        color: #eee;\n        border-color: #333;\n      }\n    }\n  }\n  \n  &.","--B {\n    flex-direction: row;\n    \n    ."," {\n      width: 200px;\n      flex-direction: column;\n      flex-shrink: 0;\n      \n      button {\n        text-align: left;\n        padding: 0.5em 0;\n        border: solid 1px #aaa;\n        border-left: none;\n        border-right: none;\n      }\n      button:first-child {\n        border-top: none;\n      }\n      button:last-child {\n        border-bottom: none;\n      }\n    }\n    \n    ."," {\n      width: 100%;\n    }\n  }\n  \n  &.","--A {\n    \n    ."," tbody td {\n      color: #7ce0ff;\n    }\n  }\n"])),k,w,z,w,z,w,k,B,k);let J;function P(){const t=Object(s.useContext)(l),n=t.activeTests,e=t.actions,a=e.getActiveVariant,c=e.getTests,i=a(z),o=a(B),r=[];"Control"!==i&&r.push("".concat(z,"--").concat(i)),"Control"!==o&&r.push("".concat(B,"--").concat(o));const b=[];n.filter((t=>!!c()[t])).map((t=>{const n=a(t);b.push({name:t,variant:n})}));const h=JSON.stringify(b);return h!==J&&(console.table(b),J=h),Object(d.jsxs)("div",{className:"".concat("view"," ").concat(D," ").concat(r.join(" ")),children:[Object(d.jsx)(_,{}),Object(d.jsx)(C,{}),Object(d.jsx)(N,{activeVariants:b})]})}class F extends s.Component{render(){const t=this.props.abTestData;return Object(d.jsx)(h,{value:t,children:Object(d.jsx)(P,{})})}}e(11);fetch("/ab-tests-data.json").then((t=>t.json())).then((t=>{c.a.render(Object(d.jsx)(F,{abTestData:t}),document.getElementById("root"))}))}],[[12,1,2]]]);
//# sourceMappingURL=main.eac17717.chunk.js.map